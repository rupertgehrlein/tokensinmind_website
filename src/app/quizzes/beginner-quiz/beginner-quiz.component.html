<div class="container mt-5 text">
  <h1>Anfänger Quiz</h1>
  <div class="quiz">
    <div class="row" *ngIf="score == null">
      <div class="col">
        <form>
          <div *ngIf="currentQuestionIndex < questions.length" class="mb-4">
            <h5>{{ questions[currentQuestionIndex].question }}</h5>
            <div *ngFor="let option of questions[currentQuestionIndex].options; let j = index" class="form-check">
              <input class="form-check-input" type="radio" name="question{{ currentQuestionIndex }}"
                [id]="'question' + currentQuestionIndex + 'option' + j" [value]="j"
                (change)="onAnswerSelected(currentQuestionIndex, j)" [checked]="answers[currentQuestionIndex] === j" />
              <label class="form-check-label" [attr.for]="'question' + currentQuestionIndex + 'option' + j">
                {{ option }}
              </label>
            </div>
          </div>
          <div class="d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" (click)="previousQuestion()"
              [disabled]="currentQuestionIndex === 0">
              Vorherige Frage
            </button>
            <button type="button" class="btn btn-primary" (click)="nextQuestion()"
              [disabled]="answers[currentQuestionIndex] === null">
              {{ currentQuestionIndex < questions.length - 1 ? 'Nächste Frage' : 'Quiz beenden' }} </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div *ngIf="score !== null" class="mt-4">
    <h2>Du hast {{ score }} von {{ questions.length }} Fragen richtig beantwortet!</h2>
  </div>
</div>
